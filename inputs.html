
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Input Parameters &#8212; macauff</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/pyramid.css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Perturbation AUF Fortran Subroutines" href="f90_docs/perturb_auf_docs.html" />
    <link rel="prev" title="Quick Start" href="quickstart.html" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head><body>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="f-modindex.html" title="Fortran Module Index"
             >fortran modules</a> |</li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="f90_docs/perturb_auf_docs.html" title="Perturbation AUF Fortran Subroutines"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="quickstart.html" title="Quick Start"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">macauff</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Input Parameters</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="input-parameters">
<h1>Input Parameters<a class="headerlink" href="#input-parameters" title="Permalink to this headline">¶</a></h1>
<p>This page details the various inputs expected by <a class="reference internal" href="api/macauff.CrossMatch.html#macauff.CrossMatch" title="macauff.CrossMatch"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CrossMatch</span></code></a>.</p>
<section id="catalogue-specific-parameters">
<h2>Catalogue-specific Parameters<a class="headerlink" href="#catalogue-specific-parameters" title="Permalink to this headline">¶</a></h2>
<p>These parameters are required in two separate files, one per catalogue to be cross-matched., the inputs <code class="docutils literal notranslate"><span class="pre">cat_a_file_path</span></code> and <code class="docutils literal notranslate"><span class="pre">cat_b_file_path</span></code> in <a class="reference internal" href="api/macauff.CrossMatch.html#macauff.CrossMatch" title="macauff.CrossMatch"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CrossMatch</span></code></a>.</p>
<section id="catalogue-parameter-description">
<h3>Catalogue Parameter Description<a class="headerlink" href="#catalogue-parameter-description" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">cat_name</span></code></p>
<p>The name of the catalogue. This is used to generate intermediate folder structure within the cross-matching process, and during any output file creation process.</p>
<p><code class="docutils literal notranslate"><span class="pre">cat_folder_path</span></code></p>
<p>The folder containing the three files (see <a class="reference internal" href="quickstart.html"><span class="doc">Quick Start</span></a> for more details) describing the given input catalogue. Can either be an absolute path, or relative to the folder from which the script was called.</p>
<p><code class="docutils literal notranslate"><span class="pre">auf_folder_path</span></code></p>
<p>The folder into which the Astrometric Uncertainty Function (AUF) related files will be, or have been, saved. Can also either be an absolute or relative path, like <code class="docutils literal notranslate"><span class="pre">cat_folder_path</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">filt_names</span></code></p>
<p>The filter names of the photometric bandpasses used in this catalogue, in the order in which they are saved in <code class="docutils literal notranslate"><span class="pre">con_cat_photo</span></code>. These will be used to describe any output data files generated after the matching process. Should be a space-separated list.</p>
<p><code class="docutils literal notranslate"><span class="pre">psf_fwhms</span></code></p>
<p>The Full-Width-At-Half-Maximum of each filter’s Point Spread Function (PSF), in the same order as in <code class="docutils literal notranslate"><span class="pre">filt_names</span></code>. These are used to simulate the PSF if <code class="docutils literal notranslate"><span class="pre">include_perturb_auf</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, and are unnecessary otherwise. Should be a space-separated list of floats.</p>
<p><code class="docutils literal notranslate"><span class="pre">tri_set_name</span></code>
The name of the filter set used to simulate the catalogue’s sources in TRILEGAL <a class="footnote-reference brackets" href="#id2" id="id1">1</a>. Used to interact with the TRILEGAL API; optional if <code class="docutils literal notranslate"><span class="pre">include_perturb_aufs</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">tri_filt_names</span></code></p>
<p>The names of the filters, in the same order as <code class="docutils literal notranslate"><span class="pre">filt_names</span></code>, as given in the data <code class="docutils literal notranslate"><span class="pre">tri_set_name</span></code> calls. Optional if <code class="docutils literal notranslate"><span class="pre">include_perturb_aufs</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">tri_filt_num</span></code></p>
<p>The one-indexed column number of the magnitude, as determined by the column order of the saved data returned by the TRILEGAL API, to which to set the maximum magnitude limit for the simulation. Optional if <code class="docutils literal notranslate"><span class="pre">include_perturb_aufs</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">download_tri</span></code></p>
<p>Boolean flag, indicating whether to re-download a TRILEGAL simulation in a given <code class="docutils literal notranslate"><span class="pre">auf_region_points</span></code> sky coordinate, once it has successfully been run, and to overwrite the original simulation data or not. Optional if <code class="docutils literal notranslate"><span class="pre">include_perturb_aufs</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">auf_region_type</span></code></p>
<p>Flag indicating which definition to use for determining the pointings of the AUF simulations; accepts either <code class="docutils literal notranslate"><span class="pre">rectangle</span></code> or <code class="docutils literal notranslate"><span class="pre">points</span></code>. If <code class="docutils literal notranslate"><span class="pre">rectangle</span></code>, then <code class="docutils literal notranslate"><span class="pre">auf_region_points</span></code> will map out a rectangle of evenly spaced points, otherwise it accepts pairs of coordinates at otherwise random coordinates.</p>
<p><code class="docutils literal notranslate"><span class="pre">auf_region_frame</span></code></p>
<p>Flag to indicate which frame the data, and thus AUF simulations, are in. Can either be <code class="docutils literal notranslate"><span class="pre">equatorial</span></code> or <code class="docutils literal notranslate"><span class="pre">galactic</span></code>, allowing for data to be input either in Right Ascension and Declination, or Galactic Longitude and Galactic Latitude.</p>
<p><code class="docutils literal notranslate"><span class="pre">auf_region_points</span></code></p>
<p>The list of pointings for which to run simulations of perturbations due to blended sources, if applicable. If <code class="docutils literal notranslate"><span class="pre">auf_region_type</span></code> is <code class="docutils literal notranslate"><span class="pre">rectangle</span></code>, then <code class="docutils literal notranslate"><span class="pre">auf_region_points</span></code> accepts six numbers: <code class="docutils literal notranslate"><span class="pre">start</span> <span class="pre">longitude,</span> <span class="pre">end</span> <span class="pre">longitude,</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">longitude</span> <span class="pre">points,</span> <span class="pre">start</span> <span class="pre">latitude,</span> <span class="pre">end</span> <span class="pre">latitude,</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">latitude</span> <span class="pre">points</span></code>; if <code class="docutils literal notranslate"><span class="pre">points</span></code> then tuples must be of the syntax <code class="docutils literal notranslate"><span class="pre">(a,</span> <span class="pre">b),</span> <span class="pre">(c,</span> <span class="pre">d)</span></code> where <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">c</span></code> and RA or Galactic Longitude, and <code class="docutils literal notranslate"><span class="pre">b</span></code> and <code class="docutils literal notranslate"><span class="pre">d</span></code> are Declination or Galactic Latitude.</p>
<p><code class="docutils literal notranslate"><span class="pre">dens_dist</span></code></p>
<p>The radius, in arcseconds, within which to count internal catalogue sources for each object, to calculate the local source density. Used to scale TRILEGAL simulated source counts to match smaller scale density fluctuations.</p>
<p><code class="docutils literal notranslate"><span class="pre">dens_mags</span></code></p>
<p>The magnitude, in each bandpass – the same order as <code class="docutils literal notranslate"><span class="pre">filt_names</span></code> – down to which to count the number of nearby sources when deriving the local normalising density of each object. Should be space-separated floats, of the same number as those given in <code class="docutils literal notranslate"><span class="pre">filt_names</span></code>.</p>
</section>
</section>
<section id="joint-parameters">
<h2>Joint Parameters<a class="headerlink" href="#joint-parameters" title="Permalink to this headline">¶</a></h2>
<p>These parameters are only provided in the single, common-parameter input file, and given as <code class="docutils literal notranslate"><span class="pre">joint_file_path</span></code> in <a class="reference internal" href="api/macauff.CrossMatch.html#macauff.CrossMatch" title="macauff.CrossMatch"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CrossMatch</span></code></a>.</p>
<section id="common-parameter-description">
<h3>Common Parameter Description<a class="headerlink" href="#common-parameter-description" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">include_perturb_auf</span></code></p>
<p>Flag for whether to include the simulated effects of blended sources on the measured astrometry in the two catalogues or not. Currently must be <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">include_phot_like</span></code></p>
<p>Flag for the inclusion of the likelihood of match or non-match based on the photometric information in the two catalogues.</p>
<p><code class="docutils literal notranslate"><span class="pre">use_phot_priors</span></code></p>
<p>Flag to determine whether to calculate the priors on match or non-match using the photometry (if set to <code class="docutils literal notranslate"><span class="pre">True</span></code>) or calculate them based on a naive asymmetric density argument (<code class="docutils literal notranslate"><span class="pre">False</span></code>).</p>
<p><code class="docutils literal notranslate"><span class="pre">joint_folder_path</span></code></p>
<p>The top-level folder location, into which all intermediate files and folders are placed, when created during the cross-match process.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The four <code class="docutils literal notranslate"><span class="pre">run_</span></code> parameters below are called in order. If an earlier stage flag is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, an error will be raised in a subsequent flag is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">run_auf</span></code></p>
<p>Flag to determine if the AUF simulation stage of the cross-match process should be run, or if previously generated files should be used when present.</p>
<p><code class="docutils literal notranslate"><span class="pre">run_group</span></code></p>
<p>Flag dictating whether the source grouping – and island creation – stage of the process is run, or if previously created islands of sources should be used for this match.</p>
<p><code class="docutils literal notranslate"><span class="pre">run_cf</span></code></p>
<p>Flag controlling whether or not to calculate the photometric likelihood information, as determined by <code class="docutils literal notranslate"><span class="pre">include_phot_like</span></code> and <code class="docutils literal notranslate"><span class="pre">use_phot_priors</span></code>, for this cross-match.</p>
<p><code class="docutils literal notranslate"><span class="pre">run_source</span></code></p>
<p>Boolean determining whether to run the final stage of the cross-match process, in which posterior probabilities of matches and non-matches for each island of sources are calculated.</p>
<p><code class="docutils literal notranslate"><span class="pre">cf_region_type</span></code></p>
<p>Similar to <code class="docutils literal notranslate"><span class="pre">auf_region_type</span></code>, this flag controls whether the areas in which photometric likelihoods are calculated is determined by <code class="docutils literal notranslate"><span class="pre">rectangle</span></code> – evenly spaced longitude/latitude pairings – or <code class="docutils literal notranslate"><span class="pre">points</span></code> – tuples of randomly placed coordinates.</p>
<p><code class="docutils literal notranslate"><span class="pre">cf_region_frame</span></code></p>
<p>As with <code class="docutils literal notranslate"><span class="pre">auf_region_frame</span></code>, this allows either <code class="docutils literal notranslate"><span class="pre">equatorial</span></code> or <code class="docutils literal notranslate"><span class="pre">galactic</span></code> frame coordinates to be used in the match process.</p>
<p><code class="docutils literal notranslate"><span class="pre">cf_region_points</span></code></p>
<p>Based on <code class="docutils literal notranslate"><span class="pre">cf_region_type</span></code>, this must either by six space-separated floats, controlling the start and end, and number of, longitude and latitude points in <code class="docutils literal notranslate"><span class="pre">start</span> <span class="pre">lon</span> <span class="pre">end</span> <span class="pre">lon</span> <span class="pre">#</span> <span class="pre">steps</span> <span class="pre">start</span> <span class="pre">lat</span> <span class="pre">end</span> <span class="pre">lat</span> <span class="pre">#steps</span></code> order (see <code class="docutils literal notranslate"><span class="pre">auf_region_points</span></code>), or a series of comma-separated tuples cf. <code class="docutils literal notranslate"><span class="pre">(a,</span> <span class="pre">b),</span> <span class="pre">(c,</span> <span class="pre">d)</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">pos_corr_dist</span></code></p>
<p>The floating point precision number determining the maximum possible separation between two sources in opposing catalogues.</p>
<p><code class="docutils literal notranslate"><span class="pre">real_hankel_points</span></code></p>
<p>The integer number of points, for Hankel (two-dimensional Fourier) transformations, in which to approximate the fourier transformation integral of the AUFs.</p>
<p><code class="docutils literal notranslate"><span class="pre">four_hankel_points</span></code></p>
<p>The integer number of points for approximating the inverse Hankel transformation, representing the convolution of two real-space AUFs.</p>
<p><code class="docutils literal notranslate"><span class="pre">four_max_rho</span></code></p>
<p>The largest fourier-space value, up to which inverse Hankel transformation integrals are considered. Should typically be larger than the inverse of the smallest typical centroiding Gaussian one-dimensional uncertainty.</p>
<p><code class="docutils literal notranslate"><span class="pre">cross_match_extent</span></code></p>
<p>The maximum extent of the matching process. When not matching all-sky catalogues, these extents are used to eliminate potential matches within “island” overlap range of the edge of the data, whose potential incompleteness renders the probabilities of match derived uncertain. Must be of the form <code class="docutils literal notranslate"><span class="pre">lower</span> <span class="pre">longitude</span> <span class="pre">upper</span> <span class="pre">longitude</span> <span class="pre">lower</span> <span class="pre">latitude</span> <span class="pre">upper</span> <span class="pre">latitude</span></code>; accepts four space-separated floats.</p>
<p><code class="docutils literal notranslate"><span class="pre">mem_chunk_num</span></code></p>
<p>The number of smaller subsets into which to break various loops throughout the cross-match process. Used to reduce the memory usage of the process at any given time, in case of catalogues too large to fit into memory at once.</p>
<p><code class="docutils literal notranslate"><span class="pre">int_fracs</span></code></p>
<p>The integral fractions of the various so-called “error circles” used in the cross-match process. Should be space-separated floats, in the order of: bright error circle fraction, “field” error circle fraction, and potential counterpart cutoff limit.</p>
<p><code class="docutils literal notranslate"><span class="pre">num_trials</span></code></p>
<p>The number of PSF realisations to draw when simulating the perturbation component of the AUF. Should be an integer.</p>
<p><code class="docutils literal notranslate"><span class="pre">dm_max</span></code></p>
<p>The magnitude offset (or relative flux in magnitude space) down to which to draw blended sources to potentially perturb a given PSF realisation of the perturbation AUF component. Should be a single float.</p>
<p><code class="docutils literal notranslate"><span class="pre">d_mag</span></code></p>
<p>Bin sizes for magnitudes used to represent the source number density used in the random drawing of perturbation AUF component PSFs. Should be a single float.</p>
<p><code class="docutils literal notranslate"><span class="pre">compute_local_density</span></code></p>
<p>Boolean flag, <code class="docutils literal notranslate"><span class="pre">yes</span></code> or <code class="docutils literal notranslate"><span class="pre">no</span></code>, to indicate whether to on-the-fly compute the local densities of sources in each catalogue for use in its perturbation AUF component, or to use pre-computed values. <code class="docutils literal notranslate"><span class="pre">yes</span></code> indicates values will be computed during the cross-match process.</p>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Please see <a class="reference external" href="http://stev.oapd.inaf.it/~webmaster/trilegal_1.6/papers.html">here</a> to view the TRILEGAL papers to cite, if you use this software in your publication.</p>
</dd>
</dl>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Input Parameters</a><ul>
<li><a class="reference internal" href="#catalogue-specific-parameters">Catalogue-specific Parameters</a><ul>
<li><a class="reference internal" href="#catalogue-parameter-description">Catalogue Parameter Description</a></li>
</ul>
</li>
<li><a class="reference internal" href="#joint-parameters">Joint Parameters</a><ul>
<li><a class="reference internal" href="#common-parameter-description">Common Parameter Description</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="f-modindex.html" title="Fortran Module Index"
             >fortran modules</a> |</li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="f90_docs/perturb_auf_docs.html" title="Perturbation AUF Fortran Subroutines"
             >next</a> |</li>
        <li class="right" >
          <a href="quickstart.html" title="Quick Start"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">macauff</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Input Parameters</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Tom J Wilson.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    </div>
  </body>
</html>